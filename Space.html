<HTML>
	<HEAD>
		<TITLE>
			Space
		</TITLE>
		<style>
			body{
			margin: 0;
			padding: 0;
			cursor: none;
			}
			#space{
					width: 100%;
					height: 100%;
					background:url('images/space.png');
			}
			#spaceship{
				background: url('images/red.png');
				width: 90px;
				height: 100px;
				position: absolute;
				left: 500px;
				top: 500px;
			}
			.beam{
				background: url('images/beam.png');
				width: 23px;
				height: 60px;
				position: absolute;
			}
			.enemy{
				background: url('images/black.png');
				width: 59px;
				height: 100px;
				position: absolute;
			}
		</style>
		<script src="external/jquery/jquery.js">
		</script>
	</HEAD>
	<BODY>
		<div id="space">
			<div id="spaceship">
			</div>
		</div>
		<script>
			bgOffset=0;
			beamCount=0;
			enemiesCount=0;
			
			function bgMover(){
				bgOffset++;
				if (bgOffset <= 451){
					$("#space").css('backgroundPosition',"0px " + bgOffset +"px");
				}
				else{
					bgOffset=0;
				}
			}
			function bgMover2(){
				beams=$('.beam');
				i=0;
				while(i<beams.length){
					oldposition=$(beams[i]).css('top')
					
					if (parseInt(oldposition)<0){
						$(beams[i]).remove();
					}
					else{
						$(beams[i]).css('top',parseInt(oldposition)-10);
					}
					i++;
				}
			}
			function bgMover3(){
				enemiesCount++;
				$("#space").append("<div id='enemy" + enemiesCount + "' class='enemy'></div>");
				$('#enemy' + enemiesCount).css('left', Math.random()*($("#space").width()-59));
			}
			function enemyMover(){
				en=$('.enemy');
				i=0;
				while(i < en.length){
					oldposition=$(en[i]).css('top');
					
					if (parseInt(oldposition)>2000){
						$(en[i]).remove();
					}
					else{
						$(en[i]).css('top',parseInt(oldposition)+10);
					}
					i++;
				}
			}
			setInterval("bgMover()",10)
			setInterval("bgMover2()",3)
			setInterval("bgMover3()",500)
			setInterval("enemyMover()",100)
			
			$(document).mousemove(function(pos){
				$("#spaceship").css('left',pos.pageX-45);
				$("#spaceship").css('top',pos.pageY-50);
			});
			$(document).click(function(pos){
				beamCount++;
				$("#space").append("<div id='beam" + beamCount + "' class='beam'></div>");
				$("#beam" + beamCount).css('left', pos.pageX - 12);
				$("#beam" + beamCount).css('top', pos.pageY -30);
			});
		</script>
	</BODY>
</HTML>